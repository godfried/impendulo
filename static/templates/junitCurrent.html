{{define "currentResult"}}
{{$noErrors := equal .Errors 0}}
{{$noFailures := equal .Failures 0}}
<dl class="dl-horizontal">
  <dt>Tests</dt><dd>{{.Tests}}</dd>
  <dt>Errors</dt><dd>{{.Errors}}</dd>
  <dt>Failures</dt><dd>{{.Failures}}</dd>
  <dt>Time</dt><dd>{{.Time}}</dd>
</dl>
{{if and $noErrors $noFailures}}
<p class="text-success">Passed all tests.</p>
{{else}}
<div class="panel-group" id="junitaccordionCurrent">
  <div class="panel panel-default">
    <div class="panel-heading">
      <a class="accordion-toggle" data-toggle="collapse"
	 data-parent="#junitaccordionCurrent" href="#FailuresCurrent">
	<h4>Failures<h4>
      </a>
    </div>
    <div id="FailuresCurrent" class="panel-collapse collapse in">
      <div class="accordion-inner">
	<div class="panel-group" id="junitresultsCurrent">
	  {{$results := .GetResults 10}}
	  {{range $results}}
	  {{$resultaddress := address .}}
	  {{if .IsFailure}}
	  <div class="panel panel-default">
	    <div class="panel-heading">
	      <a class="accordion-toggle" data-toggle="collapse"
	  data-parent="#junitresultsCurrent" href="#Result{{$resultaddress}}Current">
		<h5 class="text-center">{{base .Name}}</h5>
	      </a>
	    </div>
	    <div id="Result{{$resultaddress}}Current" class="panel-collapse collapse">
	      <div class="accordion-inner">
		<dl class="dl-horizontal">
		  <dt>Time</dt><dd>{{.Time}}</dd>
		  <dt>Message</dt><dd>{{.Fail.Message}}</dd>
		  <dt>Type</dt><dd>{{.Fail.Type}}</dd>
	  	</dl>
		<div class="panel-group" id="traceaccordion{{$resultaddress}}Current">
		  <div class="panel panel-default">
		    <div class="panel-heading">
		      <a class="accordion-toggle"
			 data-toggle="collapse"
			 data-parent="#traceaccordion{{$resultaddress}}Current"
			 href="#Trace{{$resultaddress}}Current">
			<h6>Trace</h6>
		      </a>
		    </div>
		    <div id="Trace{{$resultaddress}}Current" class="panel-collapse collapse">
		      <div class="accordion-inner">
			<p class="text-error">
			  {{setBreaks .Fail.Value}}
			</p>
		      </div>
		    </div>
		  </div>
		</div>
	      </div>
	    </div>
	  </div>
	  {{end}}
	  {{end}}
	</div>
      </div>
    </div>
  </div>
</div>
{{end}}
{{end}}
