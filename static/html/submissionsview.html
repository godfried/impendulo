{{define "view"}}
<!-- !-->
{{template "breadcrumb" .}}
<ul class="nav nav-tabs">
    <li class="dropdown" id="project-dropdown">
        <a href="#" data-toggle="dropdown" role="button" id="project-dropdown-label" class="dropdown-toggle"></a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="project-dropdown-label"></ul>
    </li>
    <li class="dropdown" id="user-dropdown">
        <a href="#" data-toggle="dropdown" role="button" id="user-dropdown-label" class="dropdown-toggle"></a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="user-dropdown-label"></ul>
    </li>
    <li class="dropdown" id="assignment-dropdown">
        <a href="#" data-toggle="dropdown" role="button" id="assignment-dropdown-label" class="dropdown-toggle"></a>
        <ul class="dropdown-menu" role="menu" aria-labelledby="assignment-dropdown-label"></ul>
    </li>
</ul>
<ul class="nav nav-pills">
    <li class="active"><a>Table</a></a>
    </li>
    <li><a href="submissionschart">Chart</a>
    </li>
</ul>
<!-- Here we display a table of the different submissions within this project --
  -- . Included are users' names and date to allow us to differentiate between --
  -- submissions. -->
<div class="form-inline centered">
    <div class="form-group">
        <label class="sr-only" for="fields">Fields</label>
        <select class="form-control select-inline" name="fields" id="fields" multiple style="display:none;">
        </select>
    </div>
</div>
<div class="container">
    <div class="row">
        <div class="col-md-12">
            <div class="table-responsive">
                <table id="table-submissions" class="table table-hover table-striped tablesorter">
                    <thead>
                        <tr class="info">
                        </tr>
                    </thead>
                    <tbody data-link="row" class="rowlink">
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" language="javascript" src="/static/js/view.js"></script>
<script type="text/javascript" language="javascript" src="/static/js/submission.js"></script>
<script>
    var isUser = '{{.ctx.Browse.IsUser}}' === 'true';
    var aid = '{{.ctx.Browse.Aid.Hex}}';
    var uid = isUser ? '{{.ctx.Browse.Uid}}' : '';
    var pid = isUser ? '' : '{{.ctx.Browse.Pid.Hex}}';
    var tipe = isUser ? 'user' : 'project';
    SubmissionsView.init(aid, pid, uid, tipe);
</script>
{{end}}
