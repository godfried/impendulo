{{ define "currentResult" }}
<div class="accordion" id="jpfaccordion{{.Id.Hex}}">
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#jpfaccordion{{.Id.Hex}}" href="#Statistics{{.Id.Hex}}">Statistics</a></div>
	<div id="Statistics{{.Id.Hex}}" class="accordion-body collapse">
	  <div class="accordion-inner">
	    <dl class="dl-horizontal">
	      <dt>Elapsed time</dt><dd>{{.Stats.Time}}</dd>
	      <dt>New States</dt><dd>{{.Stats.NewStates}}</dd>
	      <dt>Visited States</dt><dd>{{.Stats.VisitedStates}}</dd>
	      <dt>BackTracked States</dt><dd>{{.Stats.BacktrackedStates}}</dd>
	      <dt>End States</dt><dd>{{.Stats.EndStates}}</dd>
	      <dt>Memory Usage</dt><dd>{{.Stats.Memory}} MB</dd>
	    </dl>
	  </div>
	</div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#jpfaccordion{{.Id.Hex}}" href="#Errors{{.Id.Hex}}">Errors</a></div>
	<div id="Errors{{.Id.Hex}}" class="accordion-body collapse">
	  <div class="accordion-inner">
	    {{if .Success}}
	    <h4 class="text-success">No errors detected</h4>
	    {{else}}
	    {{$errCount := len .Result.Errors}}
	    <h4 class="text-error">{{$errCount}} errors found</h4>
	    {{range .Result.Errors}}
	    <h5 class="text-warning">{{.Property}}</h5>
	    {{$details := setBreaks .Details}}
	    <p>{{$details}}</p>
	    {{end}}
	    {{end}}
	  </div>
	</div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#jpfaccordion{{.Id.Hex}}" href="#Threads{{.Id.Hex}}">Threads</a></div>
	<div id="Threads{{.Id.Hex}}" class="accordion-body collapse">
	  <div class="accordion-inner">
	    {{range .Threads}}
	    <dl class="dl-horizontal">
	      <dt>Name</dt><dd>{{.Name}}</dd>
	      <dt>Identifier</dt><dd>{{.Id}}</dd>
	      <dt>Status</dt><dd>{{.Status}}</dd>
	      <dt>Stack Frames</dt>
	      {{range .Frames}}<dd>{{.}}</dd>{{end}}
	    </dl>
	    {{end}}
	  </div>
	</div>
  </div>
  <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#jpfaccordion{{.Id.Hex}}" href="#Trace{{.Id.Hex}}">Trace</a>
    </div>
    <div id="Trace{{.Id.Hex}}" class="accordion-body collapse">
      <div class="accordion-inner">
	<div class="accordion" id="traceaccordion{{.Id.Hex}}">
	  {{$id := .Id.Hex}}
	  {{range .Trace}}
	  <div class="accordion-group">
	    <div class="accordion-heading">
	      <a class="accordion-toggle" data-toggle="collapse" data-parent="#traceaccordion{{$id}}" href="#{{$id}}trans{{.Id}}">{{.String}}</a>
	    </div>
	    <div id="{{$id}}trans{{.Id}}" class="accordion-body collapse">
	      <div class="accordion-inner">
		<h5>Instructions</h5>
		<ol>
		  {{range .Insns}}<li>{{.Value}} ({{.Source}})</li>{{end}}
		</ol>
	      </div>
	    </div>
	  </div>
	  {{end}}
	</div>
      </div>
    </div>
  </div>
</div>
{{end}}
